<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Waitlist Form</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header>Restaurant Management System</header>

    <!-- Navigation Bar -->
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="schedule_creation.html">Schedule</a></li>
            <li><a href="employee_management.html">Employee Management</a></li>
            <li><a href="employee_worktime.html">Clock In/Out</a></li>
            <li><a href="inventory_management.html">Inventory</a></li>
            <li><a href="menu_management.html">Menu Management</a></li>
            <li><a href="reservation_form.html">Reservations</a></li>
            <li><a href="waitlist_form.html" class="active">Waitlist</a></li>
        </ul>
    </nav>
    <div class="container">
        <h2>Waitlist Form</h2>
        <form id="waitlistForm">
            <label for="locationID">Location ID:</label>
            <input type="number" id="locationID" required>

            <label for="waitlistID">Waitlist ID:</label>
            <input type="number" id="waitlistID" required>
        
            <label for="waitName">Name:</label>
            <input type="text" id="waitName" required>
        
            <label for="phoneNumber">Phone Number:</label>
            <input type="tel" id="phoneNumber" pattern="\(\d{3}\) \d{3}-\d{4}" placeholder="(###) ###-####" required>
        
            <label for="partySize">Party Size:</label>
            <input type="number" id="partySize" required>
        
            <label for="hostID">Host ID:</label>
            <input type="number" id="hostID" required>
        
            <button type="button" onclick="saveWaitlistEntry()">Add to Waitlist</button>
        </form>
        
        <h3 style="display: inline;">Waitlist</h3>

        <div id="utility-container">
            <!-- Location dropdown -->
            <div style="margin-bottom: 15px;">
                <label for="locationFilter">Choose Location:</label>
                <select id="locationFilter" onchange="fetchWaitlist()">
                    <option value="" disabled selected>Select a Location</option>
                </select>
            </div>

            <!-- Sorting dropdown -->
            <div style="float: right; margin-right: 10px;">
                <label for="sortBy" style="margin-right: 5px;">Sort By:</label>
                <select id="sortBy" onchange="fetchWaitlist()" style="padding: 5px; font-size: 14px;">
                    <option value="LocationID">Location ID</option>
                    <option value="WaitlistID">Waitlist ID</option>
                    <option value="WaitName">Name</option>
                    <option value="PartySize">Party Size</option>
                </select>
            </div>
        </div>

        <table id="waitlistTable">
            <thead>
                <tr>
                    <th>Location ID</th>
                    <th>Waitlist ID</th>
                    <th>Name</th>
                    <th>Phone Number</th>
                    <th>Party Size</th>
                    <th>Host ID</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <!-- Data will be dynamically inserted here -->
            </tbody>
        </table>

        <script src="waitlist_form.js"></script>
    </div>
    <!-- Edit Waitlist Modal -->
    <div id="waitlistEditModal" class="popup-overlay">
        <div class="popup-content">
            <span class="close-btn" onclick="closeEditWaitlistModal()">&times;</span>
            <h3>Edit Waitlist Entry</h3>
            <form id="editWaitlistForm">
                <label for="editLocationID">Location ID:</label>
                <input type="number" id="editLocationID" readonly>

                <label for="editWaitlistID">Waitlist ID:</label>
                <input type="number" id="editWaitlistID" readonly>

                <label for="editWaitName">Name:</label>
                <input type="text" id="editWaitName" required>

                <label for="editPhoneNumber">Phone Number:</label>
                <input type="tel" id="editPhoneNumber" pattern="\(\d{3}\) \d{3}-\d{4}" placeholder="(###) ###-####" required>

                <label for="editPartySize">Party Size:</label>
                <input type="number" id="editPartySize" required>

                <label for="editHostID">Host ID:</label>
                <input type="number" id="editHostID" required>

                <button type="button" onclick="submitEditWaitlist()">Save Changes</button>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; 2021 Restaurant Management System. All Rights Reserved.</p>
    </footer>
</body>
</html>
